/*! log4js2 - v0.1.2 <https://github.com/anigenero/log4js2>
* Copyright 2016 Robin Schultz <http://cunae.com>
* Released under the MIT License
*/
!function(a,b){"object"==typeof exports&&"object"==typeof module?module.exports=b():"function"==typeof define&&define.amd?define([],b):"object"==typeof exports?exports.log4js=b():a.log4js=b()}(this,function(){return function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={exports:{},id:d,loaded:!1};return a[d].call(e.exports,e,e.exports,b),e.loaded=!0,e.exports}var c={};return b.m=a,b.c=c,b.p="",b(0)}([function(a,b,c){function d(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b.default=a,b}function e(a){return y?void g(n.ERROR,"Could not configure. LogUtility already in use"):(A(a.appenders),C(a.loggers),B(a.tagLayout),void(x=a))}function f(a){E(a),C(x.loggers),B(x.tagLayout)}function g(a){y=!0;var b;b=z[a.logger]?z[a.logger]:z.main;for(var c=b.length;c--;)b[c].isActive(a.level)&&b[c].append(a)}function h(a){return null===x&&e(v),new l.Logger(a,{append:g})}function i(a,b){if(G(a),void 0!==b)z[b]&&z[b].setLogLevel(a);else for(var c in z)if(z.hasOwnProperty(c))for(var d in z[c])z[c].hasOwnProperty(d)&&z[c][d].setLogLevel(a)}b.__esModule=!0,b.configure=e,b.addAppender=f,b.getLogger=h,b.setLogLevel=i;var j=c(1),k=d(j),l=c(5),m=c(4),n=d(m),o=c(6),p=d(o),q=c(7),r=d(q),s=c(8),t=d(s),u={consoleAppender:p.ConsoleAppender,storageAppender:r.StorageAppender,logglyAppender:t.LogglyAppender},v={tagLayout:"%d{HH:mm:ss} [%level] %logger - %message",appenders:["consoleAppender"],loggers:[{logLevel:n.INFO}],allowAppenderInjection:!0},w=[],x=null,y=!1,z={};b.LogLevel=n;var A=function(a){if(a instanceof Array)for(var b=a.length,c=0;c<b;c++)E(a[c])},B=function(a){if(a){k.preCompile(a);for(var b in z)if(z.hasOwnProperty(b))for(var c in z[b])z[b].hasOwnProperty(c)&&z[b][c].setTagLayout(a)}},C=function(a){if(!(a instanceof Array))throw new Error("Invalid loggers");for(var b=a.length,c=0;c<b;c++)a[c].tag?z[a[c].tag]=D(a[c].logLevel):z.main=D(a[c].logLevel)},D=function(a){for(var b,c=[],d=w.length;d--;)b=w[d](),b.setLogLevel(a),c.push(b);return c},E=function(a){return y&&!x.allowAppenderInjection?void console.error("Cannot add appender when configuration finalized"):(F(u[a]),void w.push(u[a]))},F=function(a){if(null==a||"function"!=typeof a)throw new Error("Invalid appender: not an function");var b=a(),c=["append","getName","isActive","setLogLevel","setTagLayout"];for(var d in c)if(c.hasOwnProperty(d)&&void 0==b[c[d]]||"function"!=typeof b[c[d]])throw new Error("Invalid appender: missing method: "+c[d]);x instanceof Object&&x.tagLayout&&b.setTagLayout(x.tagLayout),"function"==typeof b.init&&b.init(x)},G=function(a){for(var b in n)if(a===n[b])return;throw new Error("Invalid log level: "+a)}},function(a,b,c){function d(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b.default=a,b}function e(a){x(a)}function f(a,b){return C(x(a),b)}b.__esModule=!0,b.preCompile=e,b.format=f;var g=c(2),h=c(3),i=d(h),j=c(4),k=d(j),l={},m=function(a,b){return a.logger},n=function(a,b){return g.dateFormat(a.date,b[0])},o=function(a,b){var c="";if(null!=a.error)if(void 0!=a.error.stack){var d=a.error.stack.split(/\n/g);for(var e in d)c+="\t"+d[e]+"\n"}else null!=a.error.message&&""!=a.error.message&&(c+="\t",c+=a.error.name+": "+a.error.message,c+="\n");return c},p=function(a,b){var c=null;if(a.properties){c=[];for(var d in a.properties)b[0]?b[0]==d&&c.push(a.properties[d]):c.push("{"+d+","+a.properties[d]+"}");return"{"+c.join(",")+"}"}return c},q=function(a,b){return a.message},r=function(a,b){return i.getFunctionName(a.method)},s=function(a,b){return"\n"},t=function(a,b){return a.level==k.FATAL?"FATAL":a.level==k.ERROR?"ERROR":a.level==k.WARN?"WARN":a.level==k.INFO?"INFO":a.level==k.DEBUG?"DEBUG":a.level==k.TRACE?"TRACE":void 0},u=function(a,b){return""+a.relative},v=function(a,b){return""+a.sequence},w={"c|logger":m,"d|date":n,"ex|exception|throwable":o,"K|map|MAP":p,"m|msg|message":q,"M|method":r,n:s,"p|level":t,"r|relative":u,"sn|sequenceNumber":v},x=function(a){return void 0!=l[a]?l[a]:y(a)},y=function(a){var b=a.indexOf("%"),c="",d=[];0!=b&&d.push(a.substring(0,b));do{var e=b,f=b=a.indexOf("%",b+1);c=f<0?a.substring(e):a.substring(e,f),d.push(z(c))}while(b>-1);return l[a]=d,d},z=function(a){var b=/%([a-z,A-Z]+)(?=\{|)/,c=b.exec(a);if(null!=c&&2==c.length){var d=A(c[1]);if(null==d)return null;var e=B(a),f="",g=a.lastIndexOf("}");return f=g!=-1?a.substring(g+1):a.substring(c.index+c[1].length+1),{formatter:d,params:e,after:f}}return a},A=function(a){var b;for(var c in w)if(b=new RegExp("^"+c+"$"),null!=b.exec(a))return w[c];return null},B=function(a){var b=[],c=a.match(/\{([^\}]*)(?=\})/g);if(null!=c)for(var d=0;d<c.length;d++)b.push(c[d].substring(1));return b},C=function(a,b){for(var c,d=[],e=a.length,f=function(a){a instanceof Array?d=d.concat(a):d.push(a)},g=0;g<e;g++)null!==a[g]&&(a[g]instanceof Object?(c=a[g].formatter(b,a[g].params),null!=c&&f(c),f(a[g].after)):f(a[g]));return d}},function(a,b){function c(a,b){for(a=String(a),b=b||2;a.length<b;)a="0"+a;return a}function d(a,b,d){if(1!=arguments.length||"[object String]"!=Object.prototype.toString.call(a)||/\d/.test(a)||(b=a,a=void 0),a=a?new Date(a):new Date,isNaN(a))throw SyntaxError("invalid date");b=String(b||"yyyy-mm-dd HH:MM:ss,S"),"UTC:"==b.slice(0,4)&&(b=b.slice(4),d=!0);var i=d?"getUTC":"get",j=a[i+"Date"](),k=a[i+"Day"](),l=a[i+"Month"](),m=a[i+"FullYear"](),n=a[i+"Hours"](),o=a[i+"Minutes"](),p=a[i+"Seconds"](),q=a[i+"Milliseconds"](),r=d?0:a.getTimezoneOffset(),s={d:j,dd:c(j),ddd:e.dayNames[k],dddd:e.dayNames[k+7],M:l+1,MM:c(l+1),MMM:e.monthNames[l],MMMM:e.monthNames[l+12],yy:String(m).slice(2),yyyy:m,h:n%12||12,hh:c(n%12||12),H:n,HH:c(n),m:o,mm:c(o),s:p,ss:c(p),S:c(q,1),t:n<12?"a":"p",tt:n<12?"am":"pm",T:n<12?"A":"P",TT:n<12?"AM":"PM",Z:d?"UTC":(String(a).match(g)||[""]).pop().replace(h,""),o:(r>0?"-":"+")+c(100*Math.floor(Math.abs(r)/60)+Math.abs(r)%60,4)};return b.replace(f,function(a){return a in s?s[a]:a.slice(1,a.length-1)})}b.__esModule=!0,b.dateFormat=d;var e={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"]},f=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZ]|"[^"]*"|'[^']*'/g,g=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,h=/[^-+\dA-Z]/g},function(a,b){function c(a){if("function"!=typeof a)return"anonymous";var b=a.toString();return b=b.substring("function ".length),b=b.substring(0,b.indexOf("(")),""!==b?b:"anonymous"}b.__esModule=!0,b.getFunctionName=c},function(a,b){b.__esModule=!0;var c=0;b.OFF=c;var d=100;b.FATAL=d;var e=200;b.ERROR=e;var f=300;b.WARN=f;var g=400;b.INFO=g;var h=500;b.DEBUG=h;var i=600;b.TRACE=i;var j=2147483647;b.ALL=j},function(a,b,c){function d(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b.default=a,b}function e(a,b){function c(a,b){var c=new Date,g=null;try{throw new Error}catch(a){g=a}for(var h={date:c,error:null,logErrorStack:g,file:null,level:a,lineNumber:null,logger:f,message:[],method:"",properties:void 0,relative:c.getTime()-d,sequence:e++},i=0;i<b.length;i++)b[i]instanceof Error?h.error=b[i]:h.message.push(b[i]);return h}var d=(new Date).getTime(),e=1;"string"!=typeof a&&("function"==typeof a?a=g.getFunctionName(a):"object"==typeof a?(a=g.getFunctionName(a.constructor),"Object"==a&&(a="anonymous")):a="anonymous");var f=a;return this.error=function(){b.append(c(i.ERROR,arguments))},this.warn=function(){b.append(c(i.WARN,arguments))},this.info=function(){b.append(c(i.INFO,arguments))},this.debug=function(){b.append(c(i.DEBUG,arguments))},this.trace=function(){b.append(c(i.TRACE,arguments))},this}b.__esModule=!0,b.Logger=e;var f=c(3),g=d(f),h=c(4),i=d(h)},function(a,b,c){function d(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b.default=a,b}function e(){function a(a){a.level<=k&&b(a)}function b(a){var b=i.format(j,a);try{a.level==g.ERROR?console.error.apply(console,b):a.level==g.WARN?console.warn.apply(console,b):a.level==g.INFO?console.info.apply(console,b):a.level!=g.DEBUG&&a.level!=g.TRACE||console.log.apply(console,b)}catch(c){a.level==g.ERROR?console.error(b.join(" ")):a.level==g.WARN?console.warn(b.join(" ")):a.level==g.INFO?console.info(b.join(" ")):a.level!=g.DEBUG&&a.level!=g.TRACE||console.log(b.join(" "))}}function c(){return"ConsoleAppender"}function d(a){return a<=k}function e(){return k}function f(a){k=a}function h(a){j=a}var j="%m",k=g.INFO;return{append:a,getName:c,isActive:d,getLogLevel:e,setLogLevel:f,setTagLayout:h}}b.__esModule=!0,b.ConsoleAppender=e;var f=c(4),g=d(f),h=c(1),i=d(h)},function(a,b,c){function d(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b.default=a,b}function e(){function a(){sessionStorage.setItem("log4js2",[])}function b(a){var b=i.format(j,a),c=void 0;try{c=JSON.parse(sessionStorage.getItem("log4js2"))||[]}catch(a){c=[]}c.push(b.join(" ")),sessionStorage.setItem("log4js2",JSON.stringify(c))}function c(){return"StorageAppender"}function d(a){return a<=k}function e(){return k}function f(a){k=a}function h(a){j=a}var j="%m",k=g.INFO;return{append:b,getName:c,isActive:d,getLogLevel:e,setLogLevel:f,setTagLayout:h,init:a}}b.__esModule=!0,b.StorageAppender=e;var f=c(4),g=d(f),h=c(1),i=d(h)},function(a,b,c){function d(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b.default=a,b}function e(){function a(a){return a.logglyToken?void(j="https://logs-01.loggly.com/inputs/"+a.logglyToken+"/tag/http/"):void console.error("Cannot add logglyAppender")}function b(a){var b=i.format(k,a);try{var c=new XMLHttpRequest;c.open("POST",j,!0),c.send(b.join(" "))}catch(a){console.log("This browser does not support XMLHttpRequest.")}}function c(){return"LogglyAppender"}function d(a){return a<=l}function e(){return l}function f(a){l=a}function h(a){k=a}var k="%m",l=g.INFO;return{append:b,getName:c,isActive:d,getLogLevel:e,setLogLevel:f,setTagLayout:h,init:a}}b.__esModule=!0,b.LogglyAppender=e;var f=c(4),g=d(f),h=c(1),i=d(h),j=void 0}])});
//# sourceMappingURL=log4js2.min.js.map